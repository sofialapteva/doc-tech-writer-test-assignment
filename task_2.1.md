# Создание CDN-ресурса

1. Для добавления ресурса следует нажать на кнопку **"Создать ресурс"** в разделе **"CDN-ресурсы"**.

2. Вам доступны следующие настройки:

   Опция **Доступ к контенту конечным пользователям** определяет доступность контента CDN-ресурса для пользователей:

   - _Включите_ опцию, чтобы после создания ресурса контент стал доступен всем.
   - _Отключите_ опцию, чтобы после применения настроек контент не был доступен никому.

   Опция **Протокол взаимодействия с источником** задает протокол, по которому CDN-серверы будут обращаться за контентом к источнику. Если источник доступен и по HTTP, и по HTTPS, отметьте _"HTTP и HTTPS"_.

   Опция **Запрос контента** определяет, ко скольким источникам CDN-серверы будут обращаться для получения контента:

   - _С одного источника_: в этом случае укажите адрес источника в поле **Источник контента**.
   - _С группы источников_: в этом случае укажите группу источников с одним и тем же контентом в поле **Источник контента**.

   Поле **Источник контента** используется для указания источника, с которого CDN будет забирать контент: IP-адрес или URL сайта без _http://_ или _https://_.

   Опция **Использовать кастомный порт** позволяет задать порт, по которому будет осуществляться подключение к источнику контента. По умолчанию для протокола HTTP установлен порт 80, для протокола HTTPS - порт 443.

   В поле **Персональный домен для создания CNAME-записи** укажите свой домен вида _cdn.example.com_ для доставки контента через CDN. Например, если доменное имя вашего сайта — _website.ru_, введите _cdn.website.ru_. Вместо _cdn_ вы можете указать любой другой поддомен для вашего основного домена. **Важно:** вы не сможете изменить тип CNAME-записи после создания ресурса.

   Чтобы CDN-серверы отправляли корректные запросы к источникам, настройте опцию **Изменение заголовка Host** для этих запросов:

   - _Кастомный заголовок_: в этом случае значением HTTP-заголовка _Host_ будет произвольное доменное имя, которое вы определите в поле **Кастомный заголовок**.
   - _Пересылать заголовок_: значение HTTP-заголовка _Host_ при запросе от CDN к источнику контента будет таким же, как у заголовка _Host_ в запросе клиента к CDN.

   Поле **Кастомный заголовок** используется для указания произвольного доменного имени, которое будет служить значением HTTP-заголовка _Host_ при обращении CDN-серверов к источникам контента. **Важно:** по умолчанию значение заголовка _Host_ совпадает с первым CNAME. При использовании кастомного заголовка обратите внимание, что источник должен уметь обрабатывать запросы для указанного заголовка.

   После заполнения настроек нажмите на кнопку **"Создать ресурс"**.

3. В результате CDN-ресурс будет создан, и вы сможете задать для него дополнительные настройки кеширования, HTTP-заголовков и контента, а также настроить DNS и интеграцию с CDN.
